## README: Система управления библиотекой

### Описание

Консольное приложение для управления библиотекой книг. Позволяет добавлять, удалять, искать и отображать книги, а также
изменять их статус. Хранение данных осуществляется в JSON-файле, что обеспечивает простоту и удобство работы с системой.

---

### Основной функционал

#### 1. **Добавление книги**

- Пользователь вводит название (`title`), автора (`author`) и год издания (`year`).
- Программа автоматически генерирует уникальный идентификатор (`id`) для новой книги.
- Книга добавляется в библиотеку со статусом `в наличии`.

#### 2. **Удаление книги**

- Пользователь вводит идентификатор книги (`id`), которую необходимо удалить.
- Программа удаляет книгу из библиотеки и обновляет данные в JSON-файле.
- Если книги с указанным `id` не существует, выводится соответствующее сообщение.

#### 3. **Поиск книг**

- Пользователь вводит ключевое слово для поиска.
- Поддерживаются три критерия поиска:
    - Название книги (`title`).
    - Автор книги (`author`).
    - Год издания (`year`).
- Программа возвращает список всех книг, соответствующих введенному ключевому слову.

#### 4. **Отображение всех книг**

- Программа выводит полный список книг в библиотеке.
- Формат вывода:
  ```
  ID    Название                       Автор                 Год   Статус
  ----  ------------------------------ --------------------  ----  ----------
  ```
- Если библиотека пуста, отображается сообщение о том, что в библиотеке нет книг.

#### 5. **Изменение статуса книги**

- Пользователь вводит идентификатор книги (`id`) и новый статус (`в наличии` или `выдана`).
- Программа обновляет статус книги.
- Если указанный `id` отсутствует, выводится сообщение об ошибке.
- Поддерживается строгая проверка допустимых статусов через `Enum`.

#### 6. **Хранение данных**

- Все данные о книгах сохраняются в JSON-файле (`library_data.json`).
- При каждом изменении (добавление, удаление, обновление статуса) данные автоматически сохраняются в файл.

---

### Устройство проекта

#### Структура классов:

1. **`Book`**
    - Отвечает за представление данных книги.
    - Поля:
        - `id`: уникальный идентификатор книги.
        - `title`: название книги.
        - `author`: автор книги.
        - `year`: год издания книги.
        - `status`: статус книги (`в наличии` или `выдана`).
    - Методы:
        - `to_dict()`: преобразует объект книги в словарь для сериализации.
        - `from_dict()`: создает объект книги из словаря.

2. **`BookStatus`**
    - Enum для статуса книги.
    - Возможные значения:
        - `AVAILABLE` (`в наличии`).
        - `ISSUED` (`выдана`).

3. **`LibraryStorage`**
    - Отвечает за загрузку и сохранение данных в файл.
    - Методы:
        - `load_books()`: загружает данные из JSON-файла и возвращает список объектов `Book`.
        - `save_books()`: сохраняет список книг в JSON-файл.

4. **`Library`**
    - Основной класс для управления библиотекой.
    - Использует `LibraryStorage` для работы с данными.
    - Методы:
        - `add_book()`: добавление книги.
        - `remove_book()`: удаление книги.
        - `search_books()`: поиск книг.
        - `display_books()`: отображение всех книг.
        - `update_status()`: изменение статуса книги.

---

### Как использовать

1. Скачайте проект.
2. Убедитесь, что в директории проекта находится файл `library_data.json`. Если файла нет, он будет создан
   автоматически.
3. Запустите программу:
   ```bash
   python library.py
   ```
4. Следуйте инструкциям в меню командной строки.

---

### Пример работы

#### Главное меню:

```
Добро пожаловать в библиотеку!

Доступные команды:
1. Добавить книгу
2. Удалить книгу
3. Искать книгу
4. Показать все книги
5. Изменить статус книги
6. Выйти
Введите номер команды: 
```

#### Добавление книги:

```
Введите название книги: Война и мир
Введите автора книги: Лев Толстой
Введите год издания книги: 1869
Книга 'Война и мир' успешно добавлена с ID: 1
```

#### Отображение всех книг:

```
ID    Название                       Автор                 Год   Статус    
----  ------------------------------ --------------------  ----  ----------
1     Война и мир                   Лев Толстой           1869  в наличии 
```

#### Поиск книги:

```
Введите ключевое слово для поиска: Толстой
ID    Название                       Автор                 Год   Статус    
----  ------------------------------ --------------------  ----  ----------
1     Война и мир                   Лев Толстой           1869  в наличии
```

#### Удаление книги:

```
Введите ID книги для удаления: 1
Книга с ID 1 успешно удалена.
```

#### Изменение статуса книги:

```
Введите ID книги: 1
Введите новый статус (в наличии/выдана): выдана
Статус книги с ID 1 обновлён на 'выдана'.
```

---

### Требования

- Python 3.6 или выше.
- Файл `library_data.json` для хранения данных.

---

### Структура файлов проекта

```
library/
│
├── library.py          # Основной файл программы
├── library_data.json   # Файл для хранения данных о книгах
└── README.md           # Документация
```
